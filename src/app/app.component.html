<div class="h-screen w-screen overflow-hidden relative flex justify-center items-center">
  <div class="w-10/12 lg:w-6/12 min-h-[4em] p-8 rounded shadow ring-1 ring-gray-200 hover:shadow-lg transition-all">
    <ng-container *ngFor="let property of properties">
      <h3 class="font-bold mb-2 capitalize">{{ property.propertyName }}</h3>
      <div class="flex justify-around gap-2">
        <div
          class="absolute w-2/5 overflow-hidden mx-auto flex justify-center h-12 hover:scale-150 z-50 translate-y-full transition-all top-0">
          <img [src]="sanitize(property.URL)" [height]="property.Height" [width]="property.Width" />
        </div>
        <div class="relative flex-1">
          <input type="text" id="{{ property.propertyName }}_URL"
            class="block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            placeholder=" " [value]="property.URL" (change)="onInputChange($event, property, 'URL')" />
          <label for="{{ property.propertyName }}_URL"
            class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">{{
            property.propertyName }} URL</label>
        </div>
        <div class="relative">
          <input type="text" id="{{ property.propertyName }}_width"
            class="block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            placeholder=" " [value]="property.Width" (change)="onInputChange($event, property, 'Width')" />
          <label for="{{ property.propertyName }}_width"
            class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">{{
            property.propertyName }} width</label>
        </div>
        <div class="relative">
          <input type="text" id="{{ property.propertyName }}_height"
            class="block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            placeholder=" " [value]="property.Height" (change)="onInputChange($event, property, 'Height')" />
          <label for="{{ property.propertyName }}_height"
            class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">{{
            property.propertyName }} height</label>
        </div>
      </div>
      <div class="mt-12 flex justify-center">
        <button (click)="processing()"
          class="relative w-full px-5 py-3 overflow-hidden font-medium text-gray-600 bg-gray-100 border border-gray-100 rounded-lg shadow-inner group">
          <span
            class="absolute top-0 left-0 w-0 h-0 transition-all duration-200 border-t-2 border-gray-600 group-hover:w-full ease"></span>
          <span
            class="absolute bottom-0 right-0 w-0 h-0 transition-all duration-200 border-b-2 border-gray-600 group-hover:w-full ease"></span>
          <span
            class="absolute top-0 left-0 w-full h-0 transition-all duration-300 delay-200 bg-gray-600 group-hover:h-full ease"></span>
          <span
            class="absolute bottom-0 left-0 w-full h-0 transition-all duration-300 delay-200 bg-gray-600 group-hover:h-full ease"></span>
          <span
            class="absolute inset-0 w-full h-full duration-300 delay-300 bg-gray-900 opacity-0 group-hover:opacity-100"></span>
          <span class="relative transition-colors duration-300 delay-200 group-hover:text-white ease">Process !</span>
        </button>
      </div>
    </ng-container>
  </div>
  <div
    class="absolute flex justify-center items-center transition-all duration-500 z-50 shadow-md bg-slate-200 h-full w-full top-0 translate-y-full transform"
    [ngClass]="{ '!translate-y-0': isProcess }">
    <div class="h-2/3 w-5/6 lg:w-2/3 flex flex-col p-6 bg-white hover:shadow-md rounded-lg">
      <div class="relative flex-1">
        <textarea type="" id="queryText"
          class="block px-2.5 h-full pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          placeholder=" " (change)="handleQueyChange($event)" (keyup)="handleQueyChange($event)" [value]="queryShow">
        </textarea>
        <label for="queryText"
          class="absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1">Query</label>
        <div *ngIf="!editQuery"
          class="absolute top-0 h-full w-full bg-slate-600 bg-opacity-0 hover:bg-opacity-10 overflow-hidden transition-all ease-in duration-200">
          <div class="h-full w-full transition-all flex justify-center gap-4 items-center opacity-0 hover:opacity-100">
            <button class="px-4 bg-white hover:shadow-md py-1 rounded-md ring-1 ring-gray-300 hover:ring-blue-500"
              (click)="back()">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                <path fill="#888888"
                  d="M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0l-6.59 6.59a.996.996 0 0 0 0 1.41l6.59 6.59a.996.996 0 1 0 1.41-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" />
              </svg>
            </button>
            <button class="px-4 bg-white hover:shadow-md py-1 rounded-md ring-1 ring-gray-300 hover:ring-blue-500"
              (click)="copyQuery()">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                <path fill="#888888"
                  d="M5 22q-.825 0-1.413-.588T3 20V6h2v14h11v2H5Zm4-4q-.825 0-1.413-.588T7 16V4q0-.825.588-1.413T9 2h9q.825 0 1.413.588T20 4v12q0 .825-.588 1.413T18 18H9Zm0-2h9V4H9v12Zm0 0V4v12Z" />
              </svg>
            </button>
            <button class="px-4 bg-white hover:shadow-md py-1 rounded-md ring-1 ring-gray-300 hover:ring-blue-500"
              (click)="openEditQuery()">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                <path fill="#888888"
                  d="M5 19h1.4l8.625-8.625l-1.4-1.4L5 17.6V19ZM19.3 8.925l-4.25-4.2l1.4-1.4q.575-.575 1.413-.575t1.412.575l1.4 1.4q.575.575.6 1.388t-.55 1.387L19.3 8.925ZM17.85 10.4L7.25 21H3v-4.25l10.6-10.6l4.25 4.25Zm-3.525-.725l-.7-.7l1.4 1.4l-.7-.7Z" />
              </svg>
            </button>
          </div>
        </div>
      </div>
      <div class="h-0 font-sans opacity-0 transition-all overflow-hidden"
        [ngClass]="{ '!h-16 opacity-100': editQuery }">
        <div class="pt-5 pb-1 w-full text-gray-500 flex justify-center gap-4 mx-auto">
          <button
            class="px-4 capitalize font-bold bg-gray-50 hover:shadow-md py-1 rounded-md transform hover:rotate-6 duration-500"
            [ngClass]="{'!bg-black !text-white': isQueryInset && !isEditingRawFile }"
            (click)="changeQueryShow('inset')">
            Inset
          </button>
          <button
            class="px-4 capitalize font-bold bg-gray-50 hover:shadow-md py-1 rounded-md transform hover:-rotate-3 duration-500"
            [ngClass]="{'!bg-black !text-white': !isQueryInset && !isEditingRawFile }"
            (click)="changeQueryShow('update')">
            Update
          </button>
          <button
            class="px-4 capitalize font-bold bg-[#ffb618] text-gray-900 hover:shadow-md hover:bg-black hover:text-white py-1 rounded-md duration-500"
            (click)="closeEditQuery()">
            Save
          </button>
          <button
            class="px-4 capitalize font-bold bg-gray-50 text-gray-900 hover:shadow-md hover:bg-black hover:text-white py-1 rounded-md duration-500"
            [ngClass]="{ '!bg-black !text-white': isEditingRawFile }" (click)="editRawFile()">
            Raw
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
